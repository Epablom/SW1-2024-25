<%- include('partials/head') %>

<body>

  <!-- Login Panel -->
  <%- include('partials/login') %>
  <!-- End of login Panel -->

  <div class="container">
    <!-- Sidebar Section -->    
    <%- include('partials/leftBar') %>
    <!-- End of Sidebar Section -->

    <!-- Main Content -->
    <main>
      <h1>Bienvenido a CEU-Study<span class="success">Hub</span></h1>
      <h2>Tu mejor aliado en la uni</h2>
      <h3>¡Comienza a compartir apuntes!</h3>
      
      <div class="top-section" id="contactBar">
        <!-- Contactos generados dinámicamente -->
      </div>
      
      <div class="main-content">
          <div class="news-container" id="newsContainer">
          <!-- Noticias y anuncios generados dinámicamente -->
          </div>
      </div>
    </main>
    <!-- End of Main Content -->
  
    <!-- Right Section -->
    <%- include('partials/rightBar') %>
    <!-- End of right section -->
  
  </div>

  <script>
    const contactBar = document.getElementById('contactBar');
    const contacts = [
      'Carlos', 'Federico', 'Ana', 'María', 'Marta', 'Laura', 'Pedro', 'Luis', 'Pablo', 'Miguel', 'Isabel', 'Clara', 'Daniela', 'Sofía', 'Christian', 'Javier',
      'Carlos', 'Federico', 'Ana', 'María', 'Marta', 'Laura', 'Pedro', 'Luis', 'Pablo', 'Miguel', 'Isabel', 'Clara', 'Daniela', 'Sofía', 'Christian', 'Javier'
    ];

    const images = [
      "../images/users/1.jpg",
      "../images/users/2.jpg",
      "../images/users/3.jpg",
      "../images/users/4.jpg",
      "../images/users/5.jpg",
      "../images/users/6.jpg",
      "../images/users/7.jpg",
      "../images/users/8.jpg"
    ];

    const publications = [
      "../images/news/noticias1.png",
      "../images/news/noticias2.png",
      "../images/news/noticias3.png",
      "../images/news/noticias4.png"
    ];
    
    // Generar elementos de contacto
    contacts.forEach((contact, index) => {
      const contactElement = document.createElement('div');
      contactElement.className = 'tutor';
      const imageIndex = index % images.length; // Usar el índice de la imagen cíclicamente
      contactElement.innerHTML = `
        <img src="${images[imageIndex]}" alt="Imagen de Perfil">
        <p>${contact}</p>
      `;
      contactBar.appendChild(contactElement);
    });

    const newsContainer = document.getElementById('newsContainer');

    // Función para generar contenido de noticias con la estructura original
    function createNewsItem(index) {
      const newsItem = document.createElement('div');
      newsItem.className = 'box';
      const publicationIndex = (index - 1) % publications.length;
      newsItem.innerHTML = `
        <img src="${publications[publicationIndex]}" alt="Publicación">
        <div class="content-details">
          <h3>Titulo de la publicación</h3>
          <p>Subtitulo</p>
        </div>
        <div class="buttons">
          <i class="fas fa-heart"></i>
          <i class="fas fa-arrow-right"></i>
          <i class="fas fa-save"></i>
        </div>
      `;
      return newsItem;
    }

    // Función para generar contenido de anuncio sin botones
    function createAdItem() {
      const adItem = document.createElement('div');
      adItem.className = 'ad-box';
      adItem.innerHTML = `
        <img src="../images/anuncio1.png" alt="Anuncio">
        <h3>Anuncio Especial</h3>
        <p>Contenido promocional</p>
      `;
      return adItem;
    }

    // Generar contenido de noticias y agregar anuncios en posiciones específicas
    for (let i = 1; i <= 15; i++) {
      if (i === 2 || i === 5 || i === 8) { // Agregar anuncios en la segunda, quinta y octava posición
        newsContainer.appendChild(createAdItem());
      } else {
        newsContainer.appendChild(createNewsItem(i));
      }
    }
  </script>

    <script src="../public/js/index.js"></script>

</body>
</html>

