<%- include('partials/head') %>
<script defer src="./js/index.js"></script>
<body>

  <!-- Login Panel -->
  <%- include('partials/login') %>
  <!-- End of login Panel -->

  <div class="container">
    <!-- Sidebar Section -->    
    <%- include('partials/leftBar') %>
    <!-- End of Sidebar Section -->

    <!-- Main Content -->
    <main>
      <h1>Bienvenido a CEU-Study<span class="success">Hub</span></h1>
      <h2>Tu mejor aliado en la uni</h2>
      <h3>¡Comienza a compartir apuntes!</h3>
      
      <div class="top-section" id="contactBar">
        <% users.forEach(user => { %>
          <div class="tutor">
            <img src="<%= user.imagelink %>" alt="<%= user.username %>">
            <p><%= user.username %></p>
          </div>
        <% }) %>
      </div>
      
      <div class="main-content">
          <div class="news-container" id="newsContainer">
          <!-- Noticias y anuncios generados dinámicamente -->
          </div>
      </div>
    </main>
    <!-- End of Main Content -->
  
    <!-- Right Section -->
    <%- include('partials/rightBar') %>
    <!-- End of right section -->
  
  </div>

  <script defer>
    
    const publications = [
      "../images/news/noticias1.png",
      "../images/news/noticias2.png",
      "../images/news/noticias3.png",
      "../images/news/noticias4.png"
    ];

    const newsContainer = document.getElementById('newsContainer');

    // Función para generar contenido de noticias con la estructura original
    function createNewsItem(index) {
      const newsItem = document.createElement('div');
      newsItem.className = 'box';
      const publicationIndex = (index - 1) % publications.length;
      newsItem.innerHTML = `
        <img src="${publications[publicationIndex]}" alt="Publicación">
        <div class="content-details">
          <h3>Titulo de la publicación</h3>
          <p>Subtitulo</p>
        </div>
        <div class="buttons">
          <i class="fas fa-heart"></i>
          <i class="fas fa-arrow-right"></i>
          <i class="fas fa-save"></i>
        </div>
      `;
      return newsItem;
    }

    // Función para generar contenido de anuncio sin botones
    function createAdItem() {
      const adItem = document.createElement('div');
      adItem.className = 'ad-box';
      adItem.innerHTML = `
        <img src="../images/anuncio1.png" alt="Anuncio">
        <h3>Anuncio Especial</h3>
        <p>Contenido promocional</p>
      `;
      return adItem;
    }

    // Generar contenido de noticias y agregar anuncios en posiciones específicas
    for (let i = 1; i <= 15; i++) {
      if (i === 2 || i === 5 || i === 8) { // Agregar anuncios en la segunda, quinta y octava posición
        newsContainer.appendChild(createAdItem());
      } else {
        newsContainer.appendChild(createNewsItem(i));
      }
    }
  </script>

  

</body>
</html>

